<?xml version='1.0' encoding='UTF-8'?>
<odoo>

    <record id='view_doctor_list' model='ir.ui.view'>
        <field name='name'>hospital.doctor.list</field>
        <field name='model'>hospital.doctor</field>
        <field name='arch' type='xml'>
            <list string='Doctors'>
                <field name="serial_no"/>
                <field name='name'/>
                <field name='gender'/>
                <field name='phone_no'/>
                <field name='department_id'/>
                <field name='status'/>
            </list>
        </field>
    </record>

    <record id='view_form_doctor' model='ir.ui.view'>
        <field name='name'>hospital.doctor.form</field>
        <field name='model'>hospital.doctor</field>
        <field name='arch' type='xml'>
            <form string='Doctors'>
                <header>
                    <button name='set_active' class='oe_highlight' string='Available' type='object'/>
                    <button name='set_inactive' string='Unavailable' type='object'/>
                    <button name="action_open_doctor_patient_wizard" string="Add or Update" type="object" 
                        context="{'default_doctor_id': id}"/>
                    <field name='status' widget='statusbar'/>
                </header>

                <sheet>

                    <div class='oe_title'>
                        <h1>
                            <field name="serial_no" readonly="1"/>
                            <field name='name' class='o_field_widget oe_inline'/>
                        </h1>
                    </div>

                    <div class='oe_right oe_avatar'>
                        <field name='photo' widget='image' class='oe_avatar'
                               options="{'preview_image': 'photo'}"/>
                    </div>

                    <group>
                        <group>
                            <field name='gender'/>
                            <field name='experience'/>
                            <field name='phone_no'/>
                            <field name='department_id'/>
                            <field name='schedule_start' string="On Duty From"/>
                            <field name='schedule_end' string="Shift Ends At"/>
                        </group>
                    </group>

                    <notebook>
                        <page string='Patients'>
                            <field name='patient_id'/>
                        </page>
                    </notebook>
                </sheet>
            </form>

        </field>
    </record>
    
    <record id="hospital_doctor_calendar_view" model="ir.ui.view">
        <field name="name">hospital.doctor.calendar</field>
        <field name="model">hospital.doctor</field>
        <field name="arch" type="xml">
            <calendar string="Doctor Availability"
                      date_start="schedule_start"
                      date_stop="schedule_end"
                      color="department_id"
                      event_open_popup="true">
                <field name="name"/>
                <field name="department_id"/>
                <field name="status"/>
            </calendar>
        </field>
    </record>




    <!-- Action -->
    <record id='action_hospital_doctor' model='ir.actions.act_window'>
        <field name='name'>Doctors</field>
        <field name='res_model'>hospital.doctor</field>
        <field name='view_mode'>list,form,calendar</field>
    </record>

    <!-- Menuitem -->
    <menuitem id='menu_hospital_root' name='Hospital Management' sequence='1'/>
    <menuitem id='hospital_doctor' name='Doctors' parent='menu_hospital_root' action='action_hospital_doctor'
              sequence='2'/>

</odoo>
